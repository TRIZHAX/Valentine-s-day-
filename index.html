<!DOCTYPE html>
<html>
<head>
  <title>Valentine Surprise</title>

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <style>
body {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background-color: #fae1dd;
  margin:0;
}

/* ENVELOPE */
.container { position: relative; }

.valentines {
  position: relative;
  top: 50px;
  cursor: pointer;
  animation: up 3s linear infinite;
}

@keyframes up {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-30px); }
}

.envelope {
  position: relative;
  width: 300px;
  height: 200px;
  background-color: #f08080;
}

.envelope:before {
  background-color: #f08080;
  content: "";
  position: absolute;
  width: 212px;
  height: 212px;
  transform: rotate(45deg);
  top: -105px;
  left: 44px;
  border-radius: 30px 0 0 0;
}

.card {
  position: absolute;
  background-color: #eae2b7;
  width: 270px;
  height: 170px;
  top: 5px;
  left: 15px;
  box-shadow: -5px -5px 100px rgba(0,0,0,0.4);
}

.card:before {
  content: "";
  position: absolute;
  border: 3px solid #003049;
  width: 240px;
  height: 140px;
  left: 12px;
  top: 12px;
}

.text {
  position: absolute;
  font-family: "Brush Script MT", cursive;
  font-size: 28px;
  text-align: center;
  line-height: 25px;
  top: 19px;
  left: 52px;
  color: #FF0000;
}

.heart {
  background-color: #d62828;
  display: inline-block;
  height: 30px;
  position: relative;
  top: 110px;
  left: 105px;
  transform: rotate(-45deg);
  width: 30px;
}
.bg-hearts span{
  position: fixed;
  bottom: -50px;
  font-size: 20px;
  color: #ff4d6d;
  animation: floatHearts 10s linear infinite;
}

.bg-hearts span:nth-child(1){ left:10%; animation-delay:0s; }
.bg-hearts span:nth-child(2){ left:25%; animation-delay:2s; }
.bg-hearts span:nth-child(3){ left:50%; animation-delay:4s; }
.bg-hearts span:nth-child(4){ left:70%; animation-delay:1s; }
.bg-hearts span:nth-child(5){ left:90%; animation-delay:3s; }

@keyframes floatHearts{
  0%{
    transform: translateY(0) scale(0.8);
    opacity:1;
  }
  100%{
    transform: translateY(-800px) scale(1.5);
    opacity:0;
  }
}
.heart:before,
.heart:after {
  content: "";
  background-color: #d62828;
  border-radius: 50%;
  height: 30px;
  position: absolute;
  width: 30px;
}

.heart:before { top: -15px; left: 0; }
.heart:after { left: 15px; top: 0; }

.hearts { position: absolute; }

.one,.two,.three,.four,.five {
  background-color: red;
  display: inline-block;
  height: 10px;
  position: relative;
  transform: rotate(-45deg);
  width: 10px;
  top: 50px;
}
.top-flowers{
  position: fixed;
  top: 10px;
  width: 100%;
  text-align: center;
  font-size: 35px;
  animation: sway 4s ease-in-out infinite;
}
.rose{
				width: 200px;
				height: 200px;
				position: absolute;
				right: 0;
				display: inline-block;
				animation: yidon 5s infinite;
				transform: translateY(40%);
			}
			
			.petal{
				width: 50px;
				height: 50px;
				background: #fe7696;
				border-radius: 0px 50%;
				position: absolute;
				box-shadow: 0 0 10px #D1123F;
				z-index: 2;
				transform-origin: bottom right; 
				animation: zhankai2 10s infinite;
				
			}
			
			.petal:nth-child(2){
				transform-origin: right bottom;
				transform: rotate(90deg);
				background: #fe7696;
				left: -10px;
				animation: zhankai1 10s infinite;
			}
			
			.petal:nth-child(3){
				width: 40px;
				height: 40px;
				left: 10px;
				top: -20px;
				z-index: 1;
				background: #f03a64;
				transform-origin: bottom right; 
				animation: zhankai2 10s infinite;
			}
			
			.petal:nth-child(4){
				transform: rotate(90deg);
				width: 40px;
				height: 40px;
				left: 0px;
				top: -20px;
				z-index: 1;
				background: #f03a64;
				transform-origin: bottom right; 
				animation: zhankai1 10s infinite;
			}
			
			.petal:nth-child(5){
				width: 50px;
				height: 50px;
				border-radius: 20px;
				left: 20px;
				top: -30px;
				z-index: 0;
				background: #d1123f;
				
			}
			
			.leaf{
				position: absolute;
				top: 120px;
				left: -115px;
			}
			
			.stem{
				width: 240px;
				height: 40px;
				background: transparent;
				border: 8px solid #8ac78a;
				border-color: #77a377 transparent transparent transparent;
				border-radius: 50% 50%;
				transform: rotate(100deg);
			}
			
			.leafs{
				width: 50px;
				height: 40px;
				border-radius: 0px 50%;
				background: #77a377;
				position: absolute;
				top: 0;
				left: 100px;
				z-index: 49;
			}
			
			.leafs:nth-child(2){
				width: 40px;
				height: 20px;
				top: 40px;
				left: 140px;
				transform: rotate(120deg);
			}
			
			@keyframes yidon{
				50%{
					transform: translateY(35%);
				}
				100%{
					transform: translateY(40%);
				}
			}
			
			@keyframes zhankai1{
				50%{
					transform: rotate(110deg);
				}
				100%{
					transform: rotate(90deg);
				}
			}
			
			@keyframes zhankai2{
				50%{
					transform: rotate(-20deg);
				}
				100%{
					transform: rotate(0deg);
				}
			}

		

@keyframes sway{
  0%,100%{ transform: translateY(0); }
  50%{ transform: translateY(8px); }
}
.one:before,.one:after,
.two:before,.two:after,
.three:before,.three:after,
.four:before,.four:after,
.five:before,.five:after {
  content: "";
  background-color: red;
  border-radius: 50%;
  height: 10px;
  position: absolute;
  width: 10px;
}

.one:before,.two:before,.three:before,.four:before,.five:before { top:-5px; left:0; }
.one:after,.two:after,.three:after,.four:after,.five:after { left:5px; top:0; }

.one { left:10px; animation: heart 1s ease-out infinite; }
.two { left:30px; animation: heart 2s ease-out infinite; }
.three { left:50px; animation: heart 1.5s ease-out infinite; }
.four { left:70px; animation: heart 2.3s ease-out infinite; }
.five { left:90px; animation: heart 1.7s ease-out infinite; }

@keyframes heart {
  0% { transform: translateY(0) rotate(-45deg) scale(0.3); opacity:1; }
  100% { transform: translateY(-150px) rotate(-45deg) scale(1.3); opacity:0.5; }
}

.front {
  position: absolute;
  border-right: 180px solid #f4978e;
  border-top: 95px solid transparent;
  border-bottom: 100px solid transparent;
  left: 120px;
  top: 5px;
  z-index:10;
}

.front:before {
  position: absolute;
  content: "";
  border-left: 300px solid #f8ad9d;
  border-top: 195px solid transparent;
  left: -120px;
  top: -95px;
}

.shadow {
  position: absolute;
  width: 330px;
  height: 25px;
  border-radius: 50%;
  background-color: rgba(0,0,0,0.3);
  top: 265px;
  left: -15px;
  animation: scale 3s linear infinite;
  z-index:-1;
}

@keyframes scale {
  0%,100% { transform: scaleX(1); }
  50% { transform: scaleX(0.85); }
}

/* POPUP */
#popup{
  display:none;
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.5);
  justify-content:center;
  align-items:center;
  z-index:999;
}

.popup-box{
  background:white;
  padding:30px;
  border-radius:15px;
  text-align:center;
  box-shadow:0 10px 25px rgba(0,0,0,0.3);
}

.popup-box button{
  padding:10px 20px;
  margin:10px;
  font-size:16px;
  border:none;
  border-radius:10px;
  cursor:pointer;
}

#yesBtn{ background:#ff4d6d; color:white; }
#noBtn{ background:#ccc; }
  </style>
</head>

<body>

<!-- MUSIC (starts only when envelope is clicked) -->
<audio id="bgMusic" loop>
  <source src="https://www.bensound.com/bensound-music/bensound-romantic.mp3" type="audio/mp3">
</audio>
<div class="rose">
				<div class="flower">
					<div class="petal"></div>
					<div class="petal"></div>
					<div class="petal"></div>
					<div class="petal"></div>
					<div class="petal"></div>
				</div>
				<div class="leaf">
					<div class="stem"></div>
					<div class="leafs"></div>
					<div class="leafs"></div>
				</div>
			</div>
		</div>

<div class="container">
  <div class="valentines">
    <div class="envelope"></div>
    <div class="front"></div>

    <div class="card">
      <div class="text">Rinalyn, Will you<br> be my <br>Valentine's?</div>
      <div class="heart"></div>
    </div>

    <div class="hearts">
      <div class="one"></div>
      <div class="two"></div>
      <div class="three"></div>
      <div class="four"></div>
      <div class="five"></div>
    </div>
  </div>

  <div class="shadow"></div>
</div>

<!-- POPUP -->
<div id="popup">
  <div class="popup-box">
    <h2>Will you be my Valentine? üíå</h2>
    <button id="yesBtn">Yes ‚ù§Ô∏è</button>
    <button id="noBtn">No üò¢</button>
  </div>
  <div class="top-flowers">
  üå∏ üå∫ üå∏ üå∑ üå∏ üå∫ üå∏
  </div>
</div>
<div class="bg-hearts">
  <span>‚ù§</span>
  <span>‚ù§</span>
  <span>‚ù§</span>
  <span>‚ù§</span>
  <span>‚ù§</span>
</div>
<script>
$(document).ready(function () {

  let popupStarted = false; // prevent multiple timers

  // envelope hover animation
  $(".container")
    .mouseenter(function () {
      $(".card").stop().animate({ top: "-90px" }, "slow");
    })
    .mouseleave(function () {
      $(".card").stop().animate({ top: "5px" }, "slow");
    });

  // CLICK ENVELOPE
  $(".valentines").click(function () {

    // start music
    document.getElementById("bgMusic").play();

    // start popup timer ONLY once
    if (!popupStarted) {
      popupStarted = true;

      setTimeout(function(){
        $("#popup").css("display","flex").hide().fadeIn();
      }, 5000);
    }
  });

  // YES button
  $("#yesBtn").click(function(){
    alert("Yay! Happy Valentine's ‚ù§Ô∏è");
    $("#popup").fadeOut();
  });

  // NO button teleport
  $("#noBtn").mouseover(function(){
    var x = Math.random() * (window.innerWidth - 100);
    var y = Math.random() * (window.innerHeight - 50);
    $(this).css({
      position: "absolute",
      left: x + "px",
      top: y + "px"
    });
  });

});
</script>

</body>
</html>
